<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Menjodohkan Perangkat Jaringan - Acak</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg,#1e3c72,#2a5298);
    color: white;
    text-align: center;
    margin: 0;
    padding: 20px;
}

.container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 40px;
    margin-top: 20px;
}

.images, .functions {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

img {
    width: 130px;
    background: white;
    padding: 6px;
    border-radius: 10px;
    cursor: grab;
}

.dropzone {
    background: rgba(255,255,255,0.2);
    padding: 12px;
    border-radius: 10px;
    min-height: 50px;
    width: 320px;
    font-size: 14px;
}

.correct { background: #4caf50 !important; }
.wrong { background: #f44336 !important; }

#info {
    margin-top: 15px;
    font-size: 18px;
}

button {
    margin-top: 15px;
    padding: 10px 20px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
}
</style>
</head>
<body>

<h1>üì° Menjodohkan Perangkat Jaringan</h1>
<p>Seret gambar ke fungsi yang sesuai</p>

<div id="info">
    ‚ù§Ô∏è Nyawa: <span id="lives">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</span> |
    üéØ Skor: <span id="score">0</span>
</div>

<div class="container">

<div class="images" id="imageContainer"></div>
<div class="functions" id="functionContainer"></div>

</div>

<button onclick="resetGame()">Main Lagi</button>

<script>
let score = 0;
let lives = 3;

const perangkat = [
    {id:"router", img:"router.jpg", fungsi:"Menghubungkan dua atau lebih jaringan berbeda"},
    {id:"switch", img:"switch.jpg", fungsi:"Menghubungkan banyak perangkat dalam LAN"},
    {id:"modem", img:"modem.jpg", fungsi:"Mengubah sinyal digital dan analog"},
    {id:"accesspoint", img:"accesspoint.jpg", fungsi:"Menyediakan akses WiFi"},
    {id:"repeater", img:"repeater.jpg", fungsi:"Memperkuat jangkauan sinyal"},
    {id:"lancard", img:"lancard.jpg", fungsi:"Menghubungkan komputer ke jaringan"},
    {id:"kabelutp", img:"kabelutp.jpg", fungsi:"Media transmisi kabel jaringan"}
];

const totalSoal = perangkat.length;

// üîÄ Fungsi acak array
function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}

// Render awal
function initGame() {

    const imageContainer = document.getElementById("imageContainer");
    const functionContainer = document.getElementById("functionContainer");

    imageContainer.innerHTML = "";
    functionContainer.innerHTML = "";

    let shuffledImages = [...perangkat];
    let shuffledFunctions = [...perangkat];

    shuffle(shuffledImages);
    shuffle(shuffledFunctions);

    // Tampilkan gambar
    shuffledImages.forEach(item => {
        let img = document.createElement("img");
        img.src = item.img;
        img.id = item.id;
        img.draggable = true;
        img.addEventListener("dragstart", dragStart);
        imageContainer.appendChild(img);
    });

    // Tampilkan fungsi
    shuffledFunctions.forEach(item => {
        let div = document.createElement("div");
        div.className = "dropzone";
        div.setAttribute("data-match", item.id);
        div.innerText = item.fungsi;
        div.addEventListener("dragover", e => e.preventDefault());
        div.addEventListener("drop", drop);
        functionContainer.appendChild(div);
    });
}

function dragStart(e) {
    e.dataTransfer.setData("text", e.target.id);
}

function drop(e) {
    e.preventDefault();
    if (lives <= 0) return;

    const draggedId = e.dataTransfer.getData("text");
    const correctMatch = e.target.getAttribute("data-match");

    if (draggedId === correctMatch) {
        e.target.classList.add("correct");
        e.target.innerHTML += " ‚úî";
        document.getElementById(draggedId).style.display = "none";
        score += 100 / totalSoal;
    } else {
        e.target.classList.add("wrong");
        lives--;
        updateLives();
    }

    document.getElementById("score").innerText = Math.round(score);

    if (lives === 0) {
        alert("üíÄ Game Over! Nyawa habis.");
        disableGame();
    }

    if (score >= 100) {
        alert("üéâ Selamat! Semua jawaban benar!");
        disableGame();
    }
}

function updateLives() {
    document.getElementById("lives").innerText = "‚ù§Ô∏è".repeat(lives);
}

function disableGame() {
    document.querySelectorAll("img").forEach(img => 
        img.setAttribute("draggable", false)
    );
}

function resetGame() {
    score = 0;
    lives = 3;
    document.getElementById("score").innerText = 0;
    document.getElementById("lives").innerText = "‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è";
    initGame();
}

// Jalankan saat pertama kali load
initGame();
</script>

</body>
</html>
